<%= turbo_frame_tag "item_form" do %>

  <%= form_with(model: item, class: "contents") do |form| %>

    <% if item.errors.any? %>
      <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md mt-3">
        <h2><%= pluralize(item.errors.count, "error") %> prohibited this item from being saved:</h2>
        <ul class="list-disc ml-6">
          <% item.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <!-- Name field -->
    <div class="my-5">
      <%= form.label :name %>
      <%= form.text_field :name, class: "block shadow-sm rounded-md border px-3 py-2 mt-2 w-full" %>
    </div>

    <!-- Quantity field -->
    <div class="my-5">
      <%= form.label :quantity %>
      <%= form.number_field :quantity, class: "block shadow-sm rounded-md border px-3 py-2 mt-2 w-full" %>
    </div>

    <!-- Category dropdown -->
    <div class="my-5">
      <%= form.label :category_id, "Category" %>
      <%= form.collection_select :category_id, Category.all, :id, :name,
            { prompt: "Select a category" },
            class: "block shadow-sm rounded-md border px-3 py-2 mt-2 w-full" %>
    </div>

    <div class="inline">
      <%= form.submit class: "w-full sm:w-auto rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white inline-block font-medium cursor-pointer" %>
    </div>

  <% end %>

<% end %>
